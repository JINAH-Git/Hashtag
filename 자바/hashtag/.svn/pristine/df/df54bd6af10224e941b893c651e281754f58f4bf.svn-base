am4core.useTheme(am4themes_animated);

var chart = am4core.create("hstree_tree", am4plugins_forceDirected.ForceDirectedTree);
chart.legend = new am4charts.Legend();

var networkSeries = chart.series.push(new am4plugins_forceDirected.ForceDirectedSeries())

networkSeries.data = [{
  name: root,                      //가운데에 오는 태그(root)
  fixed: true,
  x: am4core.percent(50),
  y: am4core.percent(50),
  children: []
}];

//var child = ['Berry', 'Dried Fruit', 'Other Fruit', 'Other Fruit', 'Citrus Fruit'];   //바로 아래의 연관태그 (child)
//var grandchild1 = ['a', 'b', 'c', 'd', 'e'];
//var grandchild2 = ['aa', 'bb', 'cc', 'dd', 'ee'];
//var grandchild3 = ['aaa', 'bbb', 'ccc', 'ddd', 'eee'];
//var grandchild4 = ['aaaa', 'bbbb', 'cccc', 'dddd', 'eeee'];
//var grandchild5 = ['aaaaa', 'bbbbb', 'ccccc', 'ddddd', 'eeeee'];

for (var i = 0; i < child.length; i++) {
  var grandchild = [];
  for (var j = 0; j < 5; j++) {
	  grandchild.push({ name: ("a1").toString() }); //연관태그(child아래) 아래 태그들 (grand child)
  }
  
  networkSeries.data[0].children.push({
    name: child[i],
    value: 10,
    children: grandchild
  });
}

networkSeries.dataFields.linkWith = "linkWith";
networkSeries.dataFields.name = "name";
networkSeries.dataFields.id = "name";
networkSeries.dataFields.value = "value";
networkSeries.dataFields.children = "children";
networkSeries.dataFields.fixed = "fixed";

//원의 최소 크기
networkSeries.minRadius = 35;

networkSeries.nodes.template.propertyFields.x = "x";
networkSeries.nodes.template.propertyFields.y = "y";

networkSeries.nodes.template.tooltipText = "{name}";
networkSeries.nodes.template.fillOpacity = 1;

networkSeries.nodes.template.label.text = "{name}"
networkSeries.fontSize = 15;
networkSeries.maxLevels = 3;
//텍스트가 원보다 큰경우 표시 안함
networkSeries.nodes.template.label.hideOversized = false;
//텍스트가 원보다 큰경우 줄임말표시
networkSeries.nodes.template.label.truncate = true;